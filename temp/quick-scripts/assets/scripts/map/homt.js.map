{"version":3,"sources":["homt.ts"],"names":[],"mappings":";;;;;AAAA,iDAA4C;AAC5C,2DAAsD;AAGhD,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAAkC,wBAAI;IADtC;QAAA,qEAkFC;QA/EG,KAAK;QAEL,YAAM,GAAc,IAAI,CAAC;QAEzB,QAAQ;QACR,iBAAW,GAAgB,IAAI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QAEtD,OAAO;QAEP,gBAAU,GAAa,IAAI,CAAC;QAE5B,iBAAW,GAAa,IAAI,mBAAS,EAAE,CAAC;;IAoE5C,CAAC;IAlES,qBAAM,GAAZ;;;gBAEI,IAAI,CAAC,WAAW,EAAE,CAAC;gBAEnB,IAAI,CAAC,WAAW,EAAE,CAAA;gBAGlB,IAAI,CAAC,gBAAgB,EAAE,CAAA;;;;KAG1B;IACD,oBAAK,GAAL,cAAU,CAAC;IACX,uBAAuB;IACvB,wBAAS,GAAT;IAEA,CAAC;IAED,eAAe;IACP,+BAAgB,GAAxB;QAEI,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,EAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAC7D,CAAC;IAED,SAAS;IACD,4BAAa,GAArB,UAAsB,GAAO,EAAC,MAAU,EAAC,IAAQ;QAE7C,IAAG,GAAG;YAAE,MAAM,GAAG,CAAC;QAElB,EAAE,CAAC,GAAG,CAAC,MAAM,EAAC,KAAK,CAAC,CAAA;IAExB,CAAC;IAGD,OAAO;IACC,0BAAW,GAAnB;QACI,IAAI,WAAW,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAClD,WAAW,CAAC,MAAM,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC3C,CAAC;IAED,OAAO;IACC,6BAAc,GAAtB;QAEI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAE1B,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEvC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAC9B;IACL,CAAC;IAED,OAAO;IACC,0BAAW,GAAnB;QAEI,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;QAElC;;uBAEe;QAEf,wCAAwC;QAExC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;IAE/B,CAAC;IA5ED;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;wCACK;IAOzB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;4CACQ;IAXX,IAAI;QADxB,OAAO;OACa,IAAI,CAiFxB;IAAD,WAAC;CAjFD,AAiFC,CAjFiC,cAAI,GAiFrC;kBAjFoB,IAAI","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\map","sourcesContent":["import Move from \"../../src/base/move/Move\";\r\nimport LoadScene from \"../../src/base/load/LoadScene\";\r\nimport eventBus from \"../../src/base/EventBus/EventBus\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class homt extends Move {\r\n\r\n    // 子弹\r\n    @property(cc.Prefab)\r\n    bullet: cc.Prefab = null;\r\n\r\n    // 子弹对象池\r\n    bulletsPool: cc.NodePool = new cc.NodePool(\"bullets\");\r\n\r\n    // 人物节点\r\n    @property(cc.Prefab)\r\n    peopleColl:cc.Prefab = null;\r\n\r\n    loadMoreRes:LoadScene = new LoadScene();\r\n\r\n    async onLoad() {\r\n\r\n        this._getBullets();\r\n\r\n        this.createTower()\r\n        \r\n       \r\n        this._lookLoadSuccess()\r\n        // cc.log(await this.loadMoreRes.loadMoreRes(\"audio\"),55)\r\n\r\n    }\r\n    start() { }\r\n    // update(dt:number) {}\r\n    onDestroy() {\r\n\r\n    }\r\n\r\n    // 查看资源是否批量加载完成\r\n    private _lookLoadSuccess():void {\r\n\r\n        this.loadMoreRes.loadMoreRes(\"audio\",this._loadCallback);\r\n    }\r\n\r\n    // 加载资源回调\r\n    private _loadCallback(err:any,assets:any,urls:any):void {\r\n\r\n        if(err) throw err;\r\n\r\n        cc.log(assets,99999)\r\n\r\n    }\r\n\r\n\r\n    // 创建塔防\r\n    private createTower():void {\r\n        let peopleTower = cc.instantiate(this.peopleColl);\r\n        peopleTower.parent = cc.find(\"Canvas\");\r\n    }\r\n\r\n    // 创建子弹\r\n    private _createBullets(): void {\r\n\r\n        for (var i = 0; i < 100; i++) {\r\n\r\n            let temp = cc.instantiate(this.bullet);\r\n\r\n            this.bulletsPool.put(temp);\r\n        }\r\n    }\r\n\r\n    // 取出子弹\r\n    private _getBullets(): void {\r\n\r\n        this._createBullets();\r\n\r\n        let temp = this.bulletsPool.get();\r\n\r\n        /*  temp.x = 0;\r\n \r\n         temp.y = 0; */\r\n\r\n        // temp.parent = cc.find('Canvas/fort');\r\n\r\n        let x = temp.x, y = temp.y;\r\n\r\n    }\r\n}"]}